small_version: "1.0.0"
owner: "human"
constraints:
  - id: "schema-first"
    rule: "Do not change the replayId schema shape in handoff.schema.json unless strictly required; prefer aligning code to schema."
    severity: "error"
  - id: "sha256-based"
    rule: "ReplayId must be sha256-based (64 hex). No UUIDs, no random tokens."
    severity: "error"
  - id: "v1-scope"
    rule: "Keep v1 scope: no approval gating, no archive command in this change."
    severity: "error"
  - id: "docs-sync"
    rule: "Update docs in the same PR so examples never drift from behavior."
    severity: "error"
  - id: "no-secrets"
    rule: "No secrets in .small artifacts"
    severity: "error"
  - id: "no-prod-writes"
    rule: "No writes to production by default"
    severity: "error"
